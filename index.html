<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jeromeetienne/ar.js/aframe/build/aframe-ar.min.js"></script>
    <title>AR Монеты</title>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs>
      <!-- Камера -->
      <a-camera position="0 0 0"></a-camera>

      <!-- Монеты -->
      <a-entity id="coin1" geometry="primitive: circle; radius: 0.1;" material="color: gold;" position="0 0 -1"></a-entity>
      <a-entity id="coin2" geometry="primitive: circle; radius: 0.1;" material="color: gold;" position="0.5 0 -1"></a-entity>
      <a-entity id="coin3" geometry="primitive: circle; radius: 0.1;" material="color: gold;" position="-0.5 0 -1"></a-entity>

      <!-- Анимация для монет -->
      <a-animation attribute="position" to="0 0.2 -1" dur="1000" repeat="indefinite" direction="alternate" target="#coin1"></a-animation>
      <a-animation attribute="position" to="0.5 0.2 -1" dur="1000" repeat="indefinite" direction="alternate" target="#coin2"></a-animation>
      <a-animation attribute="position" to="-0.5 0.2 -1" dur="1000" repeat="indefinite" direction="alternate" target="#coin3"></a-animation>
    </a-scene>

    <script>
      // Подключение Telegram WebApp API
      Telegram.WebApp.ready();

      // Функция для добавления монеты в сцену
      function addCoin() {
        const scene = document.querySelector('a-scene');
        const newCoin = document.createElement('a-entity');
        newCoin.setAttribute('geometry', 'primitive: circle; radius: 0.1;');
        newCoin.setAttribute('material', 'color: gold;');
        newCoin.setAttribute('position', '0 0 -2'); // Позиция новой монеты
        scene.appendChild(newCoin);

        // Добавление анимации для новой монеты
        const animation = document.createElement('a-animation');
        animation.setAttribute('attribute', 'position');
        animation.setAttribute('to', '0 0.2 -2');
        animation.setAttribute('dur', '1000');
        animation.setAttribute('repeat', 'indefinite');
        animation.setAttribute('direction', 'alternate');
        newCoin.appendChild(animation);
      }

      // Пример добавления монеты
      setInterval(addCoin, 5000); // Добавление монеты каждые 5 секунд
    </script>
  </body>
</html>
